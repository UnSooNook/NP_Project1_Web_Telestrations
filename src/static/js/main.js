(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleNewMessage=exports.shootChat=void 0;var _mySocket=require("./mySocket"),chatForm=document.querySelector(".chat__form"),chatListView=document.querySelector(".chat__view__div"),shootChat=function(e){var a=e.name,t=e.nameColor,o=e.message,s=e.messageColor,n=document.createElement("div"),r=document.createElement("span"),c=document.createElement("p");n.className="messages",a&&(r.innerText="".concat(a,": "),r.style.color=t,n.append(r)),c.innerText="".concat(o),c.style.color=s,n.append(c),chatListView.appendChild(n)};exports.shootChat=shootChat;var handleNewMessage=function(e){var a=e.name,t=e.nameColor,o=e.message,s=e.messageColor;shootChat({name:a,nameColor:t,message:o,messageColor:s}),console.log("handleNewMessage","".concat(a,": ").concat(o))};exports.handleNewMessage=handleNewMessage;var handleSendMessage=function(e){e.preventDefault();var a=chatForm.querySelector("input"),t=a.value;(0,_mySocket.getMySocket)().emit(window.events.sendMessage,{message:t}),a.value="",console.log("handleSendMessage",t)};chatForm&&chatForm.addEventListener("submit",handleSendMessage);

},{"./mySocket":5}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleGuessThis=exports.handleDrawThis=exports.handleNextTurn=exports.handleTerminateGame=exports.handleGameStart=void 0;var _mySocket=require("./mySocket");function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var inPlaying=!1,gameTurn=-1,finalTurn=-1,timer=null,currMode=-1,submit=!1,handleGameStart=function(e){var a=e.word,n=e.maxTurn;inPlaying=!0,gameTurn=0,finalTurn=n,currMode=0,console.log("gameManager - gameStart!",a)};exports.handleGameStart=handleGameStart;var handleTerminateGame=function(e){_objectDestructuringEmpty(e),inPlaying=!1,gameTurn=-1,finalTurn=-1,currMode=-1,submit=!1,console.log("gameManager - terminateGame..")};exports.handleTerminateGame=handleTerminateGame;var handleNextTurn=function(e){var a=e.currTurn;gameTurn=a,a%2==1?((0,_mySocket.getMySocket)().emit(window.events.letMeDraw,{}),currMode=1):((0,_mySocket.getMySocket)().emit(window.events.letMeGuess,{}),currMode=2),console.log("gameManager - handleNextTurn",gameTurn)};exports.handleNextTurn=handleNextTurn;var gameSubmit=function(e){(0,_mySocket.getMySocket)().emit(window.events.gameSubmit,{data:e}),submit=!0},handleGameSubmit=function(e){e.preventDefault(),0===currMode?(console.log("gameManager - handleGameSubmit 제시어 제출"),gameSubmit("".concat((0,_mySocket.getMySocket)().nickname,": 제시어"))):1===currMode?(console.log("gameManager - handleGameSubmit 그리기 제출"),gameSubmit("".concat((0,_mySocket.getMySocket)().nickname,"'s 그림"))):(console.log("gameManager - handleGameSubmit 맞추기 제출"),gameSubmit("".concat((0,_mySocket.getMySocket)().nickname,"'s 정답")))},handleDrawThis=function(e){var a=e.word;console.log("gameManager - handleDrawThis:",a)};exports.handleDrawThis=handleDrawThis;var handleGuessThis=function(e){var a=e.drawing;console.log("gameManager - handleDrawThis:",a)};exports.handleGuessThis=handleGuessThis;var submitButton=document.getElementById("jsSubmitButton");submitButton&&submitButton.addEventListener("click",handleGameSubmit);

},{"./mySocket":5}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleByePlayer=exports.handleHelloPlayer=void 0;var _chat=require("./chat"),_mySocket=require("./mySocket"),loginContainer=document.querySelector(".login__container"),mainContainer=document.querySelector(".main__container"),loginForm=document.querySelector(".login__form"),NICKNAME="nickname",nickname=localStorage.getItem(NICKNAME),logIn=function(e){var n=io("/");n.emit(window.events.logIn,{nickname:e}),(0,_mySocket.initMySocket)(n)},handleLogInSubmit=function(e){e.preventDefault();var n=loginForm.querySelector("input"),o=n.value;n.value="",localStorage.setItem(NICKNAME,o),loginContainer.classList.add("hidden"),mainContainer.classList.remove("hidden"),logIn(nickname=o)},handleHelloPlayer=function(e){var n=e.nickname;(0,_chat.shootChat)({message:"".concat(n,"님이 입장하였습니다."),messageColor:"green"}),console.log("notifications - hello",n)};exports.handleHelloPlayer=handleHelloPlayer;var handleByePlayer=function(e){var n=e.nickname;(0,_chat.shootChat)({message:"".concat(n,"님이 나갔습니다."),messageColor:"green"}),console.log("notifications - hello",n)};exports.handleByePlayer=handleByePlayer,null===nickname?(loginContainer.classList.remove("hidden"),mainContainer.classList.add("hidden")):(loginContainer.classList.add("hidden"),mainContainer.classList.remove("hidden"),logIn(nickname)),loginForm&&loginForm.addEventListener("submit",handleLogInSubmit);

},{"./chat":1,"./mySocket":5}],4:[function(require,module,exports){
"use strict";require("./logIn"),require("./players"),require("./mySocket"),require("./chat"),require("./gameManager");

},{"./chat":1,"./gameManager":2,"./logIn":3,"./mySocket":5,"./players":6}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initMySocket=exports.updateMySocket=exports.getMySocket=void 0;var _chat=require("./chat"),_gameManager=require("./gameManager"),_logIn=require("./logIn"),_players=require("./players"),socket=null,getMySocket=function(){return socket};exports.getMySocket=getMySocket;var updateMySocket=function(e){socket.nickname=e.nickname,socket.ready=e.ready,socket.leader=e.leader};exports.updateMySocket=updateMySocket;var initMySocket=function(e){var a=window.events;(socket=e).on(a.updatePlayer,_players.handleUpdatePlayer),socket.on(a.helloPlayer,_logIn.handleHelloPlayer),socket.on(a.byePlayer,_logIn.handleByePlayer),socket.on(a.leaderNotif,_players.handleLeaderNotif),socket.on(a.newMessage,_chat.handleNewMessage),socket.on(a.gameStart,_gameManager.handleGameStart),socket.on(a.terminateGame,_gameManager.handleTerminateGame),socket.on(a.nextTurn,_gameManager.handleNextTurn),socket.on(a.drawThis,_gameManager.handleDrawThis),socket.on(a.guessThis,_gameManager.handleGuessThis)};exports.initMySocket=initMySocket;

},{"./chat":1,"./gameManager":2,"./logIn":3,"./players":6}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleLeaderNotif=exports.handleUpdatePlayer=void 0;var _mySocket=require("./mySocket");function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var readyBtn=document.querySelector(".canvas__btn__ready"),playersDiv=document.querySelector(".chat__players__div"),handleUpdatePlayer=function(e){var n=e.sockets,t=(0,_mySocket.getMySocket)(),a=n.find(function(e){if(e.id===t.id)return!0});playersDiv.innerHTML="",n.map(function(e){var n=document.createElement("div");n.className="players";var t=document.createElement("span");e.leader?t.innerHTML="방장":e.ready&&(t.innerHTML="준비");var a=document.createElement("div");1===e.nickname.length?a.innerHTML=e.nickname[0]:a.innerHTML=e.nickname[0]+e.nickname[1],a.style.backgroundColor=e.color,n.appendChild(t),n.appendChild(a),playersDiv.appendChild(n)}),(0,_mySocket.updateMySocket)(a)};exports.handleUpdatePlayer=handleUpdatePlayer;var handleLeaderNotif=function(e){_objectDestructuringEmpty(e);var n=(0,_mySocket.getMySocket)();n.leader=!0,console.log(n.nickname),n.emit(window.events.leaderConfirm,{}),(0,_mySocket.updateMySocket)(n),readyBtn.innerHTML="게임 시작",console.log("players - leaderNotif",n.leader)};exports.handleLeaderNotif=handleLeaderNotif;var handleLobbyReady=function(e){e.preventDefault();var n=(0,_mySocket.getMySocket)();n.ready?(n.ready=!1,console.log("준비 완료 >>> 대기"),readyBtn.innerHTML="준비"):(n.ready=!0,console.log("대기 >>> 준비 완료"),readyBtn.innerHTML="준비 취소"),n.emit(window.events.lobbyReady,{ready:n.ready}),(0,_mySocket.updateMySocket)(n)};readyBtn&&readyBtn.addEventListener("click",handleLobbyReady);

},{"./mySocket":5}]},{},[4]);
